#
# KV Store Collections for SA Topology Analyzer
# These collections store discovered topology data for fast visualization
#

# Stores discovered nodes (forwarders, indexers, search heads)
[sa_topology_nodes]
field.node_id = string
field.hostname = string
field.node_type = string
field.tier = number
field.health = string
field.role = string
field.cluster = string
field.version = string
field.os = string
field.arch = string
field.source_ip = string
field.throughput_kb = number
field.avg_kbps = number
field.last_seen = time
field.discovered_time = time
accelerated_fields.node_id = {"node_id": 1}
accelerated_fields.node_type = {"node_type": 1}

# Stores connections between nodes
[sa_topology_connections]
field.connection_id = string
field.source_node = string
field.target_node = string
field.connection_type = string
field.throughput_kb = number
field.last_seen = time
accelerated_fields.connection_id = {"connection_id": 1}
accelerated_fields.source_target = {"source_node": 1, "target_node": 1}

# Stores app settings
[sa_topology_settings]
field.setting_key = string
field.setting_value = string
field.updated_by = string
field.updated_time = time
accelerated_fields.setting_key = {"setting_key": 1}
